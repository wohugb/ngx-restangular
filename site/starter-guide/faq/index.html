



<!DOCTYPE html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="ngx-restangular 文档">
      
      
      
        <meta name="author" content="Nosy">
      
      
        <meta name="lang:clipboard.copy" content="复制">
      
        <meta name="lang:clipboard.copied" content="已复制">
      
        <meta name="lang:search.language" content="jp">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="没有找到符合条件的结果">
      
        <meta name="lang:search.result.one" content="找到 1 个符合条件的结果">
      
        <meta name="lang:search.result.other" content="# 个符合条件的结果">
      
        <meta name="lang:search.tokenizer" content="[\uff0c\u3002]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-0.17.3, mkdocs-material-2.7.0">
    
    
      
        <title>FAQ - ngx-restangular 文档</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.78aab2dc.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.6079476c.css">
      
    
    
      <script src="../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <a href="#faq" tabindex="1" class="md-skip">
        跳转至
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="ngx-restangular 文档" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                ngx-restangular 文档
              </span>
              <span class="md-header-nav__topic">
                FAQ
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            键入以开始搜索
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/wxdocs" title="前往 Github 仓库" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      wxdocs
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href="../.." title="首页" class="md-tabs__link">
        首页
      </a>
    
  </li>

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../" title="入门" class="md-tabs__link md-tabs__link--active">
          入门
        </a>
      
    </li>
  

      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    </ul>
  </div>
</nav>
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <span class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </span>
    ngx-restangular 文档
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/wxdocs" title="前往 Github 仓库" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      wxdocs
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="首页" class="md-nav__link">
      首页
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      入门
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        入门
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../" title="目录" class="md-nav__link">
      目录
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../quick-configuration/" title="快速使用" class="md-nav__link">
      快速使用
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../using/" title="使用" class="md-nav__link">
      使用
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../configuring/" title="配置" class="md-nav__link">
      配置
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../methods/" title="方法" class="md-nav__link">
      方法
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../copying-elements/" title="拷贝元素" class="md-nav__link">
      拷贝元素
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../values-directly/" title="模板中直接使用值" class="md-nav__link">
      模板中直接使用值
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../url-building/" title="地址构建" class="md-nav__link">
      地址构建
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../creating-new-methods/" title="创建新方法" class="md-nav__link">
      创建新方法
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../adding-custom-methods-to-collections/" title="添加自定义方法到集合" class="md-nav__link">
      添加自定义方法到集合
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../adding-custom-methods-to-models/" title="添加自定义方法到模型" class="md-nav__link">
      添加自定义方法到模型
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
    <a href="./" title="FAQ" class="md-nav__link md-nav__link--active">
      FAQ
    </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../demo/" title="演示" class="md-nav__link">
      演示
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../current-stage/" title="当前" class="md-nav__link">
      当前
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../renaming/" title="重命名" class="md-nav__link">
      重命名
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../faq/" title="FAQ" class="md-nav__link">
      FAQ
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../dependencies/" title="依赖" class="md-nav__link">
      依赖
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../server-frameworks/" title="服务框架" class="md-nav__link">
      服务框架
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../contributing/" title="贡献" class="md-nav__link">
      贡献
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../license/" title="证书" class="md-nav__link">
      证书
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="faq">FAQ<a class="headerlink" href="#faq" title="Permanent link">&para;</a></h1>
<details class="faq"><summary>我该如何处理错误?</summary><p>可以在订阅的第二个参数上检查错误。</p><div class="codehilite"><pre><span></span><span class="nx">Restangular</span><span class="p">.</span><span class="nx">all</span><span class="p">(</span><span class="s2">&quot;accounts&quot;</span><span class="p">).</span><span class="nx">getList</span><span class="p">().</span><span class="nx">subscribe</span><span class="p">(</span> <span class="nx">response</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;All ok&quot;</span><span class="p">);</span>
<span class="p">},</span> <span class="nx">errorResponse</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Error with status code&quot;</span><span class="p">,</span> <span class="nx">errorResponse</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>
</details><details class="faq"><summary>我需要在每个Restangular请求中发送授权令牌，我该怎么做？</summary><p>你可以使用<code>setDefaultHeaders</code>或<code>addFullRequestInterceptor</code></p><div class="codehilite"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">NgModule</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">AppComponent</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;./app.component&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">RestangularModule</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;ngx-restangular&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">authService</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;../your-services&#39;</span><span class="p">;</span>

<span class="c1">// Function for settting the default restangular configuration</span>
<span class="kr">export</span> <span class="kd">function</span> <span class="nx">RestangularConfigFactory</span> <span class="p">(</span><span class="nx">RestangularProvider</span><span class="p">,</span> <span class="nx">authService</span><span class="p">)</span> <span class="p">{</span>

  <span class="c1">// set static header</span>
  <span class="nx">RestangularProvider</span><span class="p">.</span><span class="nx">setDefaultHeaders</span><span class="p">({</span><span class="s1">&#39;Authorization&#39;</span><span class="o">:</span> <span class="s1">&#39;Bearer UDXPx-Xko0w4BRKajozCVy20X11MRZs1&#39;</span><span class="p">});</span>

  <span class="c1">// by each request to the server receive a token and update headers with it</span>
  <span class="nx">RestangularProvider</span><span class="p">.</span><span class="nx">addFullRequestInterceptor</span><span class="p">((</span><span class="nx">element</span><span class="p">,</span> <span class="nx">operation</span><span class="p">,</span> <span class="nx">path</span><span class="p">,</span> <span class="nx">url</span><span class="p">,</span> <span class="nx">headers</span><span class="p">,</span> <span class="nx">params</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">bearerToken</span> <span class="o">=</span> <span class="nx">authService</span><span class="p">.</span><span class="nx">getBearerToken</span><span class="p">();</span>

    <span class="k">return</span> <span class="p">{</span>
      <span class="nx">headers</span><span class="o">:</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">assign</span><span class="p">({},</span> <span class="nx">headers</span><span class="p">,</span> <span class="p">{</span><span class="nx">Authorization</span><span class="o">:</span> <span class="sb">`Bearer </span><span class="si">${</span><span class="nx">bearerToken</span><span class="si">}</span><span class="sb">`</span><span class="p">})</span>
    <span class="p">};</span>
  <span class="p">});</span>
<span class="p">}</span>

<span class="c1">// AppModule is the main entry point into Angular2 bootstraping process</span>
<span class="err">@</span><span class="nx">NgModule</span><span class="p">({</span>
  <span class="nx">bootstrap</span><span class="o">:</span> <span class="p">[</span> <span class="nx">AppComponent</span> <span class="p">],</span>
  <span class="nx">declarations</span><span class="o">:</span> <span class="p">[</span>
    <span class="nx">AppComponent</span><span class="p">,</span>
  <span class="p">],</span>
  <span class="nx">imports</span><span class="o">:</span> <span class="p">[</span>
    <span class="c1">// Importing RestangularModule and making default configs for restanglar</span>
    <span class="nx">RestangularModule</span><span class="p">.</span><span class="nx">forRoot</span><span class="p">([</span><span class="nx">authService</span><span class="p">],</span> <span class="nx">RestangularConfigFactory</span><span class="p">),</span>
  <span class="p">]</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">AppModule</span> <span class="p">{</span>
<span class="p">}</span>
</pre></div>
</details><details class="faq"><summary>我需要在每个Restangular请求中发送一个标头，我该怎么做？</summary><p>您可以使用<code>defaultHeaders</code>属性。 <code>defaultsHeaders</code>可以用<code>withConfig</code>作为范围，所以它非常酷。</p><details class="faq"><summary>How can I send a delete WITHOUT a body?</summary></details><p>You must add a requestInterceptor for this.</p><div class="codehilite"><pre><span></span><span class="nx">RestangularProvider</span><span class="p">.</span><span class="nx">setRequestInterceptor</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">elem</span><span class="p">,</span> <span class="nx">operation</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">operation</span> <span class="o">===</span> <span class="s2">&quot;remove&quot;</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="kc">null</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">elem</span><span class="p">;</span>
<span class="p">})</span>
</pre></div>
</details><details class="faq"><summary>我使用Mongo，元素的ID是<code>_id</code>而不是<code>id</code>作为默认值。 因此，请求被发送到未定义的路由</summary><p>What you need to do is to configure the <code>RestangularFields</code> and set the <code>id</code> field to <code>_id</code>. Let's see how:</p><div class="codehilite"><pre><span></span><span class="nx">RestangularProvider</span><span class="p">.</span><span class="nx">setRestangularFields</span><span class="p">({</span>
  <span class="nx">id</span><span class="o">:</span> <span class="s2">&quot;_id&quot;</span>
<span class="p">});</span>
</pre></div>
</details><details class="faq"><summary>如果我的每个模型都有不同的ID名称，例如CustomerID for Customer，该怎么办？</summary><p>In some cases, people have different ID name for each entity. For example, they have CustomerID for customer and EquipmentID for Equipment. If that's the case, you can override Restangular's getIdFromElem. For that, you need to do:</p><div class="codehilite"><pre><span></span><span class="nx">RestangularProvider</span><span class="p">.</span><span class="nx">configuration</span><span class="p">.</span><span class="nx">getIdFromElem</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">elem</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// if route is customers ==&gt; returns customerID</span>
  <span class="k">return</span> <span class="nx">elem</span><span class="p">[</span><span class="nx">_</span><span class="p">.</span><span class="nx">initial</span><span class="p">(</span><span class="nx">elem</span><span class="p">.</span><span class="nx">route</span><span class="p">).</span><span class="nx">join</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;ID&quot;</span><span class="p">];</span>
<span class="p">}</span>
</pre></div>
<p>With that, you'd get what you need :)</p></details><details class="faq"><summary>如何使用Restangular在我的请求中发送文件？</summary><p>This can be done using the customPOST / customPUT method. Look at the following example:</p><div class="codehilite"><pre><span></span><span class="nx">Restangular</span><span class="p">.</span><span class="nx">all</span><span class="p">(</span><span class="s1">&#39;users&#39;</span><span class="p">)</span>
<span class="p">.</span><span class="nx">customPOST</span><span class="p">(</span><span class="nx">formData</span><span class="p">,</span> <span class="kc">undefined</span><span class="p">,</span> <span class="kc">undefined</span><span class="p">,</span> <span class="p">{</span> <span class="s1">&#39;Content-Type&#39;</span><span class="o">:</span> <span class="kc">undefined</span> <span class="p">});</span>
</pre></div>
<p>This basically tells the request to use the <em>Content-Type: multipart/form-data</em> as the header. Also <em>formData</em> is the body of the request, be sure to add all the params here, including the File you want to send of course.</p></details><details class="faq"><summary>如何处理Restangular返回的List中的CRUD操作？</summary><div class="codehilite"><pre><span></span><span class="nx">Restangular</span><span class="p">.</span><span class="nx">all</span><span class="p">(</span><span class="s1">&#39;users&#39;</span><span class="p">).</span><span class="nx">getList</span><span class="p">().</span><span class="nx">subscribe</span><span class="p">(</span> <span class="nx">users</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">users</span> <span class="o">=</span> <span class="nx">users</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">userWithId</span> <span class="o">=</span> <span class="nx">_</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="nx">users</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">user</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">user</span><span class="p">.</span><span class="nx">id</span> <span class="o">===</span> <span class="mi">123</span><span class="p">;</span>
  <span class="p">});</span>

  <span class="nx">userWithId</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="s2">&quot;Gonto&quot;</span><span class="p">;</span>
  <span class="nx">userWithId</span><span class="p">.</span><span class="nx">put</span><span class="p">();</span>

  <span class="c1">// Alternatively delete the element from the list when finished</span>
  <span class="nx">userWithId</span><span class="p">.</span><span class="nx">remove</span><span class="p">().</span><span class="nx">subscribe</span><span class="p">(</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="c1">// Updating the list and removing the user after the response is OK.</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">users</span> <span class="o">=</span> <span class="nx">_</span><span class="p">.</span><span class="nx">without</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">users</span><span class="p">,</span> <span class="nx">userWithId</span><span class="p">);</span>
  <span class="p">});</span>

<span class="p">});</span>
</pre></div>
</details><details class="faq"><summary>从集合中删除元素，保持集合的重新组合</summary><p>While the example above removes the deleted user from the collection, it also overwrites the collection object with a plain array (because of <code>_.without</code>) which no longer knows about its Restangular attributes.</p><p>If want to keep the restangularized collection, remove the element by modifying the collection in place:</p><div class="codehilite"><pre><span></span><span class="nx">userWithId</span><span class="p">.</span><span class="nx">remove</span><span class="p">().</span><span class="nx">subscribe</span><span class="p">(</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">index</span> <span class="o">=</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">users</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">userWithId</span><span class="p">);</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">index</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="k">this</span><span class="p">.</span><span class="nx">users</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="nx">index</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>
</details><details class="faq"><summary>如何访问<code>unrestangularized</code>元素以及<code>restangularized</code>元素？</summary><p>In order to get this done, you need to use the <code>responseExtractor</code>. You need to set a property there that will point to the original response received. Also, you need to actually copy this response as that response is the one that's going to be <code>restangularized</code> later</p><div class="codehilite"><pre><span></span><span class="nx">RestangularProvider</span><span class="p">.</span><span class="nx">setResponseExtractor</span><span class="p">(</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">newResponse</span> <span class="o">=</span> <span class="nx">response</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">_</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">response</span><span class="p">))</span> <span class="p">{</span>
    <span class="nx">_</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">newResponse</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="nx">key</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">newResponse</span><span class="p">[</span><span class="nx">key</span><span class="p">].</span><span class="nx">originalElement</span> <span class="o">=</span> <span class="nx">_</span><span class="p">.</span><span class="nx">clone</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>
    <span class="p">});</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">newResponse</span><span class="p">.</span><span class="nx">originalElement</span> <span class="o">=</span> <span class="nx">_</span><span class="p">.</span><span class="nx">clone</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="nx">newResponse</span><span class="p">;</span>
<span class="p">});</span>
</pre></div>
<p>Alternatively, if you just want the stripped out response on any given call, you can use the .plain() method, doing something like this:</p><div class="codehilite"><pre><span></span><span class="k">this</span><span class="p">.</span><span class="nx">showData</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="nx">baseUrl</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">someData</span><span class="p">).</span><span class="nx">subscribe</span><span class="p">(</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">plain</span><span class="p">());</span>
  <span class="p">});</span>
<span class="p">};</span>
</pre></div>
</details><details class="faq"><summary>如何在请求中添加withCredentials参数？</summary><div class="codehilite"><pre><span></span><span class="c1">// Function for settting the default restangular configuration</span>
<span class="kr">export</span> <span class="kd">function</span> <span class="nx">RestangularConfigFactory</span> <span class="p">(</span><span class="nx">RestangularProvider</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Adding withCredential parametr to all Restangular requests</span>
  <span class="nx">RestangularProvider</span><span class="p">.</span><span class="nx">setDefaultHttpFields</span><span class="p">({</span> <span class="nx">withCredentials</span><span class="o">:</span> <span class="kc">true</span> <span class="p">});</span>
<span class="p">}</span>

<span class="err">@</span><span class="nx">NgModule</span><span class="p">({</span>
  <span class="nx">bootstrap</span><span class="o">:</span> <span class="p">[</span> <span class="nx">AppComponent</span> <span class="p">],</span>
  <span class="nx">declarations</span><span class="o">:</span> <span class="p">[</span>
    <span class="nx">AppComponent</span><span class="p">,</span>
  <span class="p">],</span>
  <span class="nx">imports</span><span class="o">:</span> <span class="p">[</span>
    <span class="c1">// Global configuration</span>
    <span class="nx">RestangularModule</span><span class="p">.</span><span class="nx">forRoot</span><span class="p">(</span><span class="nx">RestangularConfigFactory</span><span class="p">),</span>
  <span class="p">]</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">AppModule</span> <span class="p">{}</span>
</pre></div>
</details>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../adding-custom-methods-to-models/" title="添加自定义方法到模型" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  后退
                </span>
                添加自定义方法到模型
              </span>
            </div>
          </a>
        
        
          <a href="../../demo/" title="演示" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  前进
                </span>
                演示
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            @2018 wxdocs.github.io
          </div>
        
        powered by
        <a href="http://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
      <a href="http://wohugb.github.io" class="md-footer-social__link fa fa-globe"></a>
    
      <a href="https://github.com/wohugb" class="md-footer-social__link fa fa-github-alt"></a>
    
      <a href="https://twitter.com/wohugb" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://linkedin.com/in/wohugb" class="md-footer-social__link fa fa-linkedin"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.8eb9be28.js"></script>
      
        
        
          
          <script src="../../assets/javascripts/lunr/lunr.stemmer.support.js"></script>
          
            
              
                <script src="../../assets/javascripts/lunr/tinyseg.js"></script>
              
              
                <script src="../../assets/javascripts/lunr/lunr.jp.js"></script>
              
            
          
          
        
      
      <script>app.initialize({version:"0.17.3",url:{base:"../.."}})</script>
      
    
    
      
    
  </body>
</html>