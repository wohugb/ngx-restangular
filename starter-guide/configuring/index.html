



<!DOCTYPE html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="ngx-restangular 文档">
      
      
      
        <meta name="author" content="Nosy">
      
      
        <meta name="lang:clipboard.copy" content="复制">
      
        <meta name="lang:clipboard.copied" content="已复制">
      
        <meta name="lang:search.language" content="jp">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="没有找到符合条件的结果">
      
        <meta name="lang:search.result.one" content="找到 1 个符合条件的结果">
      
        <meta name="lang:search.result.other" content="# 个符合条件的结果">
      
        <meta name="lang:search.tokenizer" content="[\uff0c\u3002]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-0.17.3, mkdocs-material-2.7.0">
    
    
      
        <title>配置 - ngx-restangular 文档</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.78aab2dc.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.6079476c.css">
      
    
    
      <script src="../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <a href="#restangular" tabindex="1" class="md-skip">
        跳转至
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="ngx-restangular 文档" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                ngx-restangular 文档
              </span>
              <span class="md-header-nav__topic">
                配置
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            键入以开始搜索
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/wxdocs" title="前往 Github 仓库" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      wxdocs
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href="../.." title="首页" class="md-tabs__link">
        首页
      </a>
    
  </li>

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../" title="入门" class="md-tabs__link md-tabs__link--active">
          入门
        </a>
      
    </li>
  

      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    </ul>
  </div>
</nav>
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <span class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </span>
    ngx-restangular 文档
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/wxdocs" title="前往 Github 仓库" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      wxdocs
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="首页" class="md-nav__link">
      首页
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      入门
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        入门
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../" title="目录" class="md-nav__link">
      目录
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../quick-configuration/" title="快速使用" class="md-nav__link">
      快速使用
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../using/" title="使用" class="md-nav__link">
      使用
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        配置
      </label>
    
    <a href="./" title="配置" class="md-nav__link md-nav__link--active">
      配置
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">目录</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" title="属性" class="md-nav__link">
    属性
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#withconfig" title="withConfig" class="md-nav__link">
    withConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setbaseurl" title="setBaseUrl" class="md-nav__link">
    setBaseUrl
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setextrafields" title="setExtraFields" class="md-nav__link">
    setExtraFields
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setparentless" title="setParentless" class="md-nav__link">
    setParentless
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#addelementtransformer" title="addElementTransformer" class="md-nav__link">
    addElementTransformer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settransformonlyserverelements" title="setTransformOnlyServerElements" class="md-nav__link">
    setTransformOnlyServerElements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setonelemrestangularized" title="setOnElemRestangularized" class="md-nav__link">
    setOnElemRestangularized
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#addresponseinterceptor" title="addResponseInterceptor" class="md-nav__link">
    addResponseInterceptor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#addfullrequestinterceptor" title="addFullRequestInterceptor" class="md-nav__link">
    addFullRequestInterceptor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adderrorinterceptor" title="addErrorInterceptor" class="md-nav__link">
    addErrorInterceptor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setrestangularfields" title="setRestangularFields" class="md-nav__link">
    setRestangularFields
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setmethodoverriders" title="setMethodOverriders" class="md-nav__link">
    setMethodOverriders
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setdefaultrequestparams" title="setDefaultRequestParams" class="md-nav__link">
    setDefaultRequestParams
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setfullresponse" title="setFullResponse" class="md-nav__link">
    setFullResponse
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setdefaultheaders" title="setDefaultHeaders" class="md-nav__link">
    setDefaultHeaders
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setrequestsuffix" title="setRequestSuffix" class="md-nav__link">
    setRequestSuffix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setusecannonicalid" title="setUseCannonicalId" class="md-nav__link">
    setUseCannonicalId
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setplainbydefault" title="setPlainByDefault" class="md-nav__link">
    setPlainByDefault
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setencodeids" title="setEncodeIds" class="md-nav__link">
    setEncodeIds
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" title="访问配置" class="md-nav__link">
    访问配置
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" title="如何全局配置它们" class="md-nav__link">
    如何全局配置它们
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#appmodule" title="配置在 AppModule" class="md-nav__link">
    配置在 AppModule
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-in-the-appmodule-with-dependency-injection-applied" title="Configuring in the AppModule with Dependency Injection applied" class="md-nav__link">
    Configuring in the AppModule with Dependency Injection applied
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#restangular_1" title="如何使用与全局服务不同的配置创建Restangular服务" class="md-nav__link">
    如何使用与全局服务不同的配置创建Restangular服务
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#restangular_2" title="解耦的Restangular服务" class="md-nav__link">
    解耦的Restangular服务
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../methods/" title="方法" class="md-nav__link">
      方法
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../copying-elements/" title="拷贝元素" class="md-nav__link">
      拷贝元素
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../values-directly/" title="模板中直接使用值" class="md-nav__link">
      模板中直接使用值
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../url-building/" title="地址构建" class="md-nav__link">
      地址构建
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../creating-new-methods/" title="创建新方法" class="md-nav__link">
      创建新方法
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../adding-custom-methods-to-collections/" title="添加自定义方法到集合" class="md-nav__link">
      添加自定义方法到集合
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../adding-custom-methods-to-models/" title="添加自定义方法到模型" class="md-nav__link">
      添加自定义方法到模型
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../faq/" title="FAQ" class="md-nav__link">
      FAQ
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../demo/" title="演示" class="md-nav__link">
      演示
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../current-stage/" title="当前" class="md-nav__link">
      当前
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../renaming/" title="重命名" class="md-nav__link">
      重命名
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../faq/" title="FAQ" class="md-nav__link">
      FAQ
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../dependencies/" title="依赖" class="md-nav__link">
      依赖
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../server-frameworks/" title="服务框架" class="md-nav__link">
      服务框架
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../contributing/" title="贡献" class="md-nav__link">
      贡献
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../license/" title="证书" class="md-nav__link">
      证书
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">目录</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" title="属性" class="md-nav__link">
    属性
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#withconfig" title="withConfig" class="md-nav__link">
    withConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setbaseurl" title="setBaseUrl" class="md-nav__link">
    setBaseUrl
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setextrafields" title="setExtraFields" class="md-nav__link">
    setExtraFields
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setparentless" title="setParentless" class="md-nav__link">
    setParentless
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#addelementtransformer" title="addElementTransformer" class="md-nav__link">
    addElementTransformer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settransformonlyserverelements" title="setTransformOnlyServerElements" class="md-nav__link">
    setTransformOnlyServerElements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setonelemrestangularized" title="setOnElemRestangularized" class="md-nav__link">
    setOnElemRestangularized
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#addresponseinterceptor" title="addResponseInterceptor" class="md-nav__link">
    addResponseInterceptor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#addfullrequestinterceptor" title="addFullRequestInterceptor" class="md-nav__link">
    addFullRequestInterceptor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adderrorinterceptor" title="addErrorInterceptor" class="md-nav__link">
    addErrorInterceptor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setrestangularfields" title="setRestangularFields" class="md-nav__link">
    setRestangularFields
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setmethodoverriders" title="setMethodOverriders" class="md-nav__link">
    setMethodOverriders
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setdefaultrequestparams" title="setDefaultRequestParams" class="md-nav__link">
    setDefaultRequestParams
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setfullresponse" title="setFullResponse" class="md-nav__link">
    setFullResponse
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setdefaultheaders" title="setDefaultHeaders" class="md-nav__link">
    setDefaultHeaders
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setrequestsuffix" title="setRequestSuffix" class="md-nav__link">
    setRequestSuffix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setusecannonicalid" title="setUseCannonicalId" class="md-nav__link">
    setUseCannonicalId
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setplainbydefault" title="setPlainByDefault" class="md-nav__link">
    setPlainByDefault
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setencodeids" title="setEncodeIds" class="md-nav__link">
    setEncodeIds
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" title="访问配置" class="md-nav__link">
    访问配置
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" title="如何全局配置它们" class="md-nav__link">
    如何全局配置它们
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#appmodule" title="配置在 AppModule" class="md-nav__link">
    配置在 AppModule
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-in-the-appmodule-with-dependency-injection-applied" title="Configuring in the AppModule with Dependency Injection applied" class="md-nav__link">
    Configuring in the AppModule with Dependency Injection applied
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#restangular_1" title="如何使用与全局服务不同的配置创建Restangular服务" class="md-nav__link">
    如何使用与全局服务不同的配置创建Restangular服务
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#restangular_2" title="解耦的Restangular服务" class="md-nav__link">
    解耦的Restangular服务
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="restangular">配置Restangular<a class="headerlink" href="#restangular" title="Permanent link">&para;</a></h1>
<h2 id="_1">属性<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<p>Restangular comes with defaults for all of its properties but you can configure them. <strong>So, if you don't need to configure something, there's no need to add the configuration.</strong>
You can set all these configurations in <strong><a href="#how-to-configure-them-globally">RestangularModule</a> to change the global configuration</strong>, you can also <strong>use the <a href="#how-to-create-a-restangular-service-with-a-different-configuration-from-the-global-one">withConfig</a> method in Restangular service to create a new Restangular service with some scoped configuration</strong> or <strong>use <a href="#withconfig">withConfig</a> in component to make specified Restangular</strong></p>
<h3 id="withconfig">withConfig<a class="headerlink" href="#withconfig" title="Permanent link">&para;</a></h3>
<p>You can configure Restangular "withConfig" like in example below, you can also configure them globally <a href="#how-to-configure-them-globally">RestangularModule</a> or in service with <a href="#how-to-create-a-restangular-service-with-a-different-configuration-from-the-global-one">withConfig</a></p>
<div class="codehilite"><pre><span></span><span class="c1">// Function for settting the default restangular configuration</span>
<span class="kr">export</span> <span class="kd">function</span> <span class="nx">RestangularConfigFactory</span> <span class="p">(</span><span class="nx">RestangularProvider</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">RestangularProvider</span><span class="p">.</span><span class="nx">setBaseUrl</span><span class="p">(</span><span class="s1">&#39;http://www.google.com&#39;</span><span class="p">);</span>
<span class="p">}</span>

<span class="err">@</span><span class="nx">NgModule</span><span class="p">({</span>
  <span class="nx">bootstrap</span><span class="o">:</span> <span class="p">[</span> <span class="nx">AppComponent</span> <span class="p">],</span>
  <span class="nx">declarations</span><span class="o">:</span> <span class="p">[</span>
    <span class="nx">AppComponent</span><span class="p">,</span>
  <span class="p">],</span>
  <span class="nx">imports</span><span class="o">:</span> <span class="p">[</span>
    <span class="c1">// Global configuration</span>
    <span class="nx">RestangularModule</span><span class="p">.</span><span class="nx">forRoot</span><span class="p">(</span><span class="nx">RestangularConfigFactory</span><span class="p">),</span>
  <span class="p">]</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">AppModule</span> <span class="p">{}</span>
<span class="c1">// Let&#39;s use it in the component</span>
<span class="err">@</span><span class="nx">Component</span><span class="p">({</span>
  <span class="p">...</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">OtherComponent</span> <span class="p">{</span>
  <span class="nx">constructor</span><span class="p">(</span><span class="kr">private</span> <span class="nx">restangular</span><span class="o">:</span> <span class="nx">Restangular</span><span class="p">)</span> <span class="p">{}</span>

  <span class="nx">ngOnInit</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">restangular</span><span class="p">.</span><span class="nx">withConfig</span><span class="p">((</span><span class="nx">RestangularConfigurer</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
      <span class="nx">RestangularConfigurer</span><span class="p">.</span><span class="nx">setBaseUrl</span><span class="p">(</span><span class="s1">&#39;http://www.bing.com&#39;</span><span class="p">);</span>
    <span class="p">}).</span><span class="nx">all</span><span class="p">(</span><span class="s1">&#39;users&#39;</span><span class="p">).</span><span class="nx">getList</span><span class="p">()</span>
  <span class="p">}</span>
<span class="p">};</span>
</pre></div>

<h3 id="setbaseurl">setBaseUrl<a class="headerlink" href="#setbaseurl" title="Permanent link">&para;</a></h3>
<p>The base URL for all calls to your API. For example if your URL for fetching accounts is http://example.com/api/v1/accounts, then your baseUrl is <code>/api/v1</code>. The default baseUrl is an empty string which resolves to the same url that Angular2 is running, but you can also set an absolute url like <code>http://api.example.com/api/v1</code> if you need to set another domain.</p>
<h3 id="setextrafields">setExtraFields<a class="headerlink" href="#setextrafields" title="Permanent link">&para;</a></h3>
<p>These are the fields that you want to save from your parent resources if you need to display them. By default this is an Empty Array which will suit most cases</p>
<h3 id="setparentless">setParentless<a class="headerlink" href="#setparentless" title="Permanent link">&para;</a></h3>
<p>Use this property to control whether Restangularized elements to have a parent or not. So, for example if you get an account and then get a nested list of buildings, you may want the buildings URL to be simple <code>/buildings/123</code> instead of <code>/accounts/123/buildings/123</code>. This property lets you do that.</p>
<p>This method accepts 1 parameter, it could be:</p>
<ul>
<li>Boolean: Specifies if all elements should be parentless or not</li>
<li>Array: Specifies the routes (types) of all elements that should be parentless. For example <code>['buildings']</code></li>
</ul>
<h3 id="addelementtransformer">addElementTransformer<a class="headerlink" href="#addelementtransformer" title="Permanent link">&para;</a></h3>
<p>This is a hook. After each element has been "restangularized" (Added the new methods from Restangular), the corresponding transformer will be called if it fits.</p>
<p>This should be used to add your own methods / functions to entities of certain types.</p>
<p>You can add as many element transformers as you want. The signature of this method can be one of the following:</p>
<ul>
<li>
<p><strong>addElementTransformer(route, transformer)</strong>: Transformer is called with all elements that have been restangularized, no matter if they're collections or not.</p>
</li>
<li>
<p><strong>addElementTransformer(route, isCollection, transformer)</strong>: Transformer is called with all elements that have been restangularized and match the specification regarding if it's a collection or not (true | false)</p>
</li>
</ul>
<h3 id="settransformonlyserverelements">setTransformOnlyServerElements<a class="headerlink" href="#settransformonlyserverelements" title="Permanent link">&para;</a></h3>
<p>This sets whether transformers will be run for local objects and not by objects returned by the server. This is by default true but can be changed to false if needed (Most people won't need this).</p>
<h3 id="setonelemrestangularized">setOnElemRestangularized<a class="headerlink" href="#setonelemrestangularized" title="Permanent link">&para;</a></h3>
<p>This is a hook. After each element has been "restangularized" (Added the new methods from Restangular), this will be called. It means that if you receive a list of objects in one call, this method will be called first for the collection and then for each element of the collection.</p>
<p><strong>I favor the usage of <code>addElementTransformer</code> instead of <code>onElemRestangularized</code> whenever possible as the implementation is much cleaner.</strong></p>
<p>This callback is a function that has 4 parameters:</p>
<ul>
<li><strong>elem</strong>: The element that has just been restangularized. Can be a collection or a single element.</li>
<li><strong>isCollection</strong>: Boolean indicating if this is a collection or a single element.</li>
<li><strong>what</strong>: The model that is being modified. This is the "path" of this resource. For example <code>buildings</code></li>
<li><strong>Restangular</strong>: The instanced service to use any of its methods</li>
</ul>
<p>This can be used together with <code>addRestangularMethod</code> (Explained later) to add custom methods to an element</p>
<div class="codehilite"><pre><span></span><span class="nx">service</span><span class="p">.</span><span class="nx">setOnElemRestangularized</span><span class="p">((</span><span class="nx">element</span><span class="p">,</span> <span class="nx">isCollection</span><span class="p">,</span> <span class="nx">what</span><span class="p">,</span> <span class="nx">Restangular</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="nx">element</span><span class="p">.</span><span class="nx">newField</span> <span class="o">=</span> <span class="s2">&quot;newField&quot;</span><span class="p">;</span>
  <span class="k">return</span> <span class="nx">element</span><span class="p">;</span>
<span class="p">});</span>
</pre></div>

<h3 id="addresponseinterceptor">addResponseInterceptor<a class="headerlink" href="#addresponseinterceptor" title="Permanent link">&para;</a></h3>
<p>The responseInterceptor is called after we get each response from the server. It's a function that receives this arguments:</p>
<ul>
<li><strong>data</strong>: The data received got from the server</li>
<li><strong>operation</strong>: The operation made. It'll be the HTTP method used except for a <code>GET</code> which returns a list of element which will return <code>getList</code> so that you can distinguish them.</li>
<li><strong>what</strong>: The model that's being requested. It can be for example: <code>accounts</code>, <code>buildings</code>, etc.</li>
<li><strong>url</strong>: The relative URL being requested. For example: <code>/api/v1/accounts/123</code></li>
<li><strong>response</strong>: Full server response including headers</li>
</ul>
<p>Some of the use cases of the responseInterceptor are handling wrapped responses and enhancing response elements with more methods among others.</p>
<p>The responseInterceptor must return the restangularized data element.</p>
<div class="codehilite"><pre><span></span> <span class="nx">RestangularProvider</span><span class="p">.</span><span class="nx">addResponseInterceptor</span><span class="p">((</span><span class="nx">data</span><span class="p">,</span> <span class="nx">operation</span><span class="p">,</span> <span class="nx">what</span><span class="p">,</span> <span class="nx">url</span><span class="p">,</span> <span class="nx">response</span><span class="p">)=&gt;</span> <span class="p">{</span>
       <span class="k">return</span> <span class="nx">data</span><span class="p">;</span>
     <span class="p">});</span>
 <span class="p">});</span>
</pre></div>

<h3 id="addfullrequestinterceptor">addFullRequestInterceptor<a class="headerlink" href="#addfullrequestinterceptor" title="Permanent link">&para;</a></h3>
<p>This adds a new fullRequestInterceptor. The fullRequestInterceptor is similar to the <code>requestInterceptor</code> but more powerful. It lets you change the element, the request parameters and the headers as well.</p>
<p>It's a function that receives the same as the <code>requestInterceptor</code> plus the headers and the query parameters (in that order).</p>
<p>It can return an object with any (or all) of following properties:</p>
<ul>
<li><strong>headers</strong>: The headers to send</li>
<li><strong>params</strong>: The request parameters to send</li>
<li><strong>element</strong>: The element to send</li>
</ul>
<div class="codehilite"><pre><span></span><span class="nx">RestangularProvider</span><span class="p">.</span><span class="nx">addFullRequestInterceptor</span><span class="p">((</span><span class="nx">element</span><span class="p">,</span> <span class="nx">operation</span><span class="p">,</span> <span class="nx">path</span><span class="p">,</span> <span class="nx">url</span><span class="p">,</span> <span class="nx">headers</span><span class="p">,</span> <span class="nx">params</span><span class="p">)=&gt;</span> <span class="p">{</span>
   <span class="k">return</span> <span class="p">{</span>
     <span class="nx">params</span><span class="o">:</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">assign</span><span class="p">({},</span> <span class="nx">params</span><span class="p">,</span> <span class="p">{</span><span class="nx">sort</span><span class="o">:</span><span class="s2">&quot;name&quot;</span><span class="p">}),</span>
     <span class="nx">headers</span><span class="o">:</span> <span class="nx">headers</span><span class="p">,</span>
     <span class="nx">element</span><span class="o">:</span> <span class="nx">element</span>
   <span class="p">}</span>
 <span class="p">});</span>
</pre></div>

<p>If a property isn't returned, the one sent is used.</p>
<h3 id="adderrorinterceptor">addErrorInterceptor<a class="headerlink" href="#adderrorinterceptor" title="Permanent link">&para;</a></h3>
<p>The errorInterceptor is called whenever there's an error. It's a function that receives the response, subject and the Restangular-response handler as parameters.</p>
<p>The errorInterceptor function, whenever it returns false, prevents the observable linked to a Restangular request to be executed. All other return values (besides false) are ignored and the observable follows the usual path, eventually reaching the success or error hooks.</p>
<p>The refreshAccesstoken function must return observable. It`s function that will be done before repeating the request, there you can make some actions. In switchMap you might do some transformations to request.</p>
<div class="codehilite"><pre><span></span><span class="c1">// Function for settting the default restangular configuration</span>
<span class="kr">export</span> <span class="kd">function</span> <span class="nx">RestangularConfigFactory</span> <span class="p">(</span><span class="nx">RestangularProvider</span><span class="p">,</span> <span class="nx">authService</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">RestangularProvider</span><span class="p">.</span><span class="nx">setBaseUrl</span><span class="p">(</span><span class="s1">&#39;http://api.test.com/v1&#39;</span><span class="p">);</span>

  <span class="c1">// This function must return observable</span>
  <span class="kd">var</span> <span class="nx">refreshAccesstoken</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Here you can make action before repeated request</span>
    <span class="k">return</span> <span class="nx">authService</span><span class="p">.</span><span class="nx">functionForTokenUpdate</span><span class="p">();</span>
  <span class="p">};</span>

  <span class="nx">RestangularProvider</span><span class="p">.</span><span class="nx">addErrorInterceptor</span><span class="p">((</span><span class="nx">response</span><span class="p">,</span> <span class="nx">subject</span><span class="p">,</span> <span class="nx">responseHandler</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span> <span class="o">===</span> <span class="mi">403</span><span class="p">)</span> <span class="p">{</span>

      <span class="nx">refreshAccesstoken</span><span class="p">()</span>
      <span class="p">.</span><span class="nx">switchMap</span><span class="p">(</span><span class="nx">refreshAccesstokenResponse</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="c1">//If you want to change request or make with it some actions and give the request to the repeatRequest func.</span>
        <span class="c1">//Or you can live it empty and request will be the same.</span>

        <span class="c1">// update Authorization header</span>
        <span class="nx">response</span><span class="p">.</span><span class="nx">request</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">&#39;Authorization&#39;</span><span class="p">,</span> <span class="s1">&#39;Bearer &#39;</span> <span class="o">+</span> <span class="nx">refreshAccesstokenResponse</span><span class="p">)</span>

        <span class="k">return</span> <span class="nx">response</span><span class="p">.</span><span class="nx">repeatRequest</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">request</span><span class="p">);</span>
      <span class="p">})</span>
      <span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span>
        <span class="nx">res</span> <span class="p">=&gt;</span> <span class="nx">responseHandler</span><span class="p">(</span><span class="nx">res</span><span class="p">),</span>
        <span class="nx">err</span> <span class="p">=&gt;</span> <span class="nx">subject</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
      <span class="p">);</span>

      <span class="k">return</span> <span class="kc">false</span><span class="p">;</span> <span class="c1">// error handled</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="kc">true</span><span class="p">;</span> <span class="c1">// error not handled</span>
  <span class="p">});</span>
<span class="p">}</span>

<span class="c1">// AppModule is the main entry point into Angular2 bootstraping process</span>
<span class="err">@</span><span class="nx">NgModule</span><span class="p">({</span>
  <span class="nx">bootstrap</span><span class="o">:</span> <span class="p">[</span> <span class="nx">AppComponent</span> <span class="p">],</span>
  <span class="nx">imports</span><span class="o">:</span> <span class="p">[</span>
    <span class="c1">// Importing RestangularModule and making default configs for restanglar</span>
    <span class="nx">RestangularModule</span><span class="p">.</span><span class="nx">forRoot</span><span class="p">([</span><span class="nx">authService</span><span class="p">],</span> <span class="nx">RestangularConfigFactory</span><span class="p">),</span>
  <span class="p">],</span>
<span class="p">})</span>
</pre></div>

<h3 id="setrestangularfields">setRestangularFields<a class="headerlink" href="#setrestangularfields" title="Permanent link">&para;</a></h3>
<p>Restangular required 3 fields for every "Restangularized" element. These are:</p>
<ul>
<li>id: Id of the element. Default: id</li>
<li>route: Name of the route of this element. Default: route</li>
<li>parentResource: The reference to the parent resource. Default: parentResource</li>
<li>restangularCollection: A boolean indicating if this is a collection or an element. Default: restangularCollection</li>
<li>cannonicalId: If available, the path to the cannonical ID to use. Useful for PK changes</li>
<li>etag: Where to save the ETag received from the server. Defaults to <code>restangularEtag</code></li>
<li>selfLink: The path to the property that has the URL to this item. If your REST API doesn't return a URL to an item, you can just leave it blank. Defaults to <code>href</code></li>
</ul>
<p>Also all of Restangular methods and functions are configurable through restangularFields property.
All of these fields except for <code>id</code> and <code>selfLink</code> are handled by Restangular, so most of the time you won't change them. You can configure the name of the property that will be binded to all of this fields by setting restangularFields property.</p>
<h3 id="setmethodoverriders">setMethodOverriders<a class="headerlink" href="#setmethodoverriders" title="Permanent link">&para;</a></h3>
<p>You can now Override HTTP Methods. You can set here the array of methods to override. All those methods will be sent as POST and Restangular will add an X-HTTP-Method-Override header with the real HTTP method we wanted to do.</p>
<div class="codehilite"><pre><span></span><span class="nx">RestangularProvider</span><span class="p">.</span><span class="nx">setMethodOverriders</span><span class="p">([</span><span class="s2">&quot;Get&quot;</span><span class="p">,</span><span class="s2">&quot;Put&quot;</span><span class="p">]);</span>
</pre></div>

<h3 id="setdefaultrequestparams">setDefaultRequestParams<a class="headerlink" href="#setdefaultrequestparams" title="Permanent link">&para;</a></h3>
<p>You can set default Query parameters to be sent with every request and every method.</p>
<p>Additionally, if you want to configure request params per method, you can use <code>requestParams</code> configuration similar to <code>$http</code>. For example <code>RestangularProvider.requestParams.get = {single: true}</code>.</p>
<p>Supported method to configure are: remove, get, post, put, common (all)</p>
<div class="codehilite"><pre><span></span><span class="c1">// set params for multiple methods at once</span>
<span class="nx">RestangularProvider</span><span class="p">.</span><span class="nx">setDefaultRequestParams</span><span class="p">([</span><span class="s1">&#39;remove&#39;</span><span class="p">,</span> <span class="s1">&#39;post&#39;</span><span class="p">],</span> <span class="p">{</span><span class="nx">confirm</span><span class="o">:</span> <span class="kc">true</span><span class="p">});</span>

<span class="c1">// set only for get method</span>
<span class="nx">RestangularProvider</span><span class="p">.</span><span class="nx">setDefaultRequestParams</span><span class="p">(</span><span class="s1">&#39;get&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">limit</span><span class="o">:</span> <span class="mi">10</span><span class="p">});</span>

<span class="c1">// or for all supported request methods</span>
<span class="nx">RestangularProvider</span><span class="p">.</span><span class="nx">setDefaultRequestParams</span><span class="p">({</span><span class="nx">apikey</span><span class="o">:</span> <span class="s2">&quot;secret key&quot;</span><span class="p">});</span>
</pre></div>

<h3 id="setfullresponse">setFullResponse<a class="headerlink" href="#setfullresponse" title="Permanent link">&para;</a></h3>
<p>You can set fullResponse to true to get the whole response every time you do any request. The full response has the restangularized data in the <code>data</code> field, and also has the headers and config sent. By default, it's set to false. Please note that in order for Restangular to access custom HTTP headers, your server must respond having the <code>Access-Control-Expose-Headers:</code> set.</p>
<div class="codehilite"><pre><span></span><span class="c1">// set params for multiple methods at once</span>
<span class="nx">RestangularProvider</span><span class="p">.</span><span class="nx">setFullResponse</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
</pre></div>

<p>Or set it per service
<div class="codehilite"><pre><span></span><span class="c1">// Restangular factory that uses setFullResponse</span>
<span class="kr">export</span> <span class="kr">const</span> <span class="nx">REST_FUL_RESPONSE</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">InjectionToken</span><span class="o">&lt;</span><span class="nx">any</span><span class="o">&gt;</span><span class="p">(</span><span class="s1">&#39;RestFulResponse&#39;</span><span class="p">);</span>
<span class="kr">export</span> <span class="kd">function</span> <span class="nx">RestFulResponseFactory</span><span class="p">(</span><span class="nx">restangular</span><span class="o">:</span> <span class="nx">Restangular</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">restangular</span><span class="p">.</span><span class="nx">withConfig</span><span class="p">((</span><span class="nx">RestangularConfigurer</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">RestangularConfigurer</span><span class="p">.</span><span class="nx">setFullResponse</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">}</span>


<span class="c1">// Configure factory in AppModule module</span>
<span class="c1">// AppModule is the main entry point into Angular2 bootstraping process</span>
<span class="err">@</span><span class="nx">NgModule</span><span class="p">({</span>
  <span class="nx">bootstrap</span><span class="o">:</span> <span class="p">[</span> <span class="nx">AppComponent</span> <span class="p">],</span>
  <span class="nx">declarations</span><span class="o">:</span> <span class="p">[</span>
    <span class="nx">AppComponent</span><span class="p">,</span>
  <span class="p">],</span>
  <span class="nx">imports</span><span class="o">:</span> <span class="p">[</span><span class="nx">RestangularModule</span><span class="p">],</span>
  <span class="nx">providers</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span> <span class="nx">provide</span><span class="o">:</span> <span class="nx">REST_FUL_RESPONSE</span><span class="p">,</span> <span class="nx">useFactory</span><span class="o">:</span>  <span class="nx">RestFulResponseFactory</span><span class="p">,</span> <span class="nx">deps</span><span class="o">:</span> <span class="p">[</span><span class="nx">Restangular</span><span class="p">]</span> <span class="p">}</span>
  <span class="p">]</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">AppModule</span> <span class="p">{}</span>


<span class="c1">// Let&#39;s use it in the component</span>
<span class="err">@</span><span class="nx">Component</span><span class="p">({</span>
  <span class="p">...</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">OtherComponent</span> <span class="p">{</span>
  <span class="nx">users</span><span class="p">;</span>

  <span class="nx">constructor</span><span class="p">(</span><span class="err">@</span><span class="nx">Inject</span><span class="p">(</span><span class="nx">REST_FUL_RESPONSE</span><span class="p">)</span> <span class="kr">public</span> <span class="nx">restFulResponse</span><span class="p">)</span> <span class="p">{</span>
  <span class="p">}</span>

  <span class="nx">ngOnInit</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">restFulResponse</span><span class="p">.</span><span class="nx">all</span><span class="p">(</span><span class="s1">&#39;users&#39;</span><span class="p">).</span><span class="nx">getList</span><span class="p">().</span><span class="nx">subscribe</span><span class="p">(</span> <span class="nx">response</span> <span class="p">=&gt;</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">users</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">headers</span><span class="p">);</span>
    <span class="p">});</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div></p>
<h3 id="setdefaultheaders">setDefaultHeaders<a class="headerlink" href="#setdefaultheaders" title="Permanent link">&para;</a></h3>
<p>You can set default Headers to be sent with every request. Send format: {header_name: header_value}</p>
<div class="codehilite"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">NgModule</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">RestangularModule</span><span class="p">,</span> <span class="nx">Restangular</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;ngx-restangular&#39;</span><span class="p">;</span>

<span class="c1">// Function for settting the default restangular configuration</span>
<span class="kr">export</span> <span class="kd">function</span> <span class="nx">RestangularConfigFactory</span> <span class="p">(</span><span class="nx">RestangularProvider</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">RestangularProvider</span><span class="p">.</span><span class="nx">setDefaultHeaders</span><span class="p">({</span><span class="s1">&#39;Authorization&#39;</span><span class="o">:</span> <span class="s1">&#39;Bearer UDXPx-Xko0w4BRKajozCVy20X11MRZs1&#39;</span><span class="p">});</span>
<span class="p">}</span>

<span class="c1">// AppModule is the main entry point into Angular2 bootstraping process</span>
<span class="err">@</span><span class="nx">NgModule</span><span class="p">({</span>
  <span class="p">...</span>
  <span class="nx">imports</span><span class="o">:</span> <span class="p">[</span>
    <span class="c1">// Importing RestangularModule and making default configs for restanglar</span>
    <span class="nx">RestangularModule</span><span class="p">.</span><span class="nx">forRoot</span><span class="p">(</span><span class="nx">RestangularConfigFactory</span><span class="p">),</span>
  <span class="p">]</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">AppModule</span> <span class="p">{</span>
<span class="p">}</span>
</pre></div>

<h3 id="setrequestsuffix">setRequestSuffix<a class="headerlink" href="#setrequestsuffix" title="Permanent link">&para;</a></h3>
<p>If all of your requests require to send some suffix to work, you can set it here. For example, if you need to send the format like <code>/users/123.json</code> you can add that <code>.json</code> to the suffix using the <code>setRequestSuffix</code> method</p>
<h3 id="setusecannonicalid">setUseCannonicalId<a class="headerlink" href="#setusecannonicalid" title="Permanent link">&para;</a></h3>
<p>You can set this to either <code>true</code> or <code>false</code>. By default it's false. If set to true, then the cannonical ID from the element will be used for URL creation (in DELETE, PUT, POST, etc.). What this means is that if you change the ID of the element and then you do a put, if you set this to true, it'll use the "old" ID which was received from the server. If set to false, it'll use the new ID assigned to the element.</p>
<h3 id="setplainbydefault">setPlainByDefault<a class="headerlink" href="#setplainbydefault" title="Permanent link">&para;</a></h3>
<p>You can set this to <code>true</code> or <code>false</code>. By default it's false. If set to true, data retrieved will be returned with no embed methods from restangular.</p>
<h3 id="setencodeids">setEncodeIds<a class="headerlink" href="#setencodeids" title="Permanent link">&para;</a></h3>
<p>You can set here if you want to URL Encode IDs or not. By default, it's true.</p>
<h2 id="_2">访问配置<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<p>You can also access the configuration via <code>RestangularModule</code> and <code>Restangular.provider</code> via the <code>configuration</code> property if you don't want to use the setters. Check it out:</p>
<div class="codehilite"><pre><span></span><span class="nx">RestangularProvider</span><span class="p">.</span><span class="nx">configuration</span><span class="p">.</span><span class="nx">requestSuffix</span> <span class="o">=</span> <span class="s1">&#39;/&#39;</span><span class="p">;</span>
</pre></div>

<h2 id="_3">如何全局配置它们<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h2>
<p>You can configure this in either the <code>AppModule</code>.</p>
<h3 id="appmodule">配置在 <code>AppModule</code><a class="headerlink" href="#appmodule" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">RestangularModule</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;ngx-restangular&#39;</span><span class="p">;</span>

<span class="c1">// Function for settting the default restangular configuration</span>
<span class="kr">export</span> <span class="kd">function</span> <span class="nx">RestangularConfigFactory</span> <span class="p">(</span><span class="nx">RestangularProvider</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">RestangularProvider</span><span class="p">.</span><span class="nx">setBaseUrl</span><span class="p">(</span><span class="s1">&#39;http://api.restngx.local/v1&#39;</span><span class="p">);</span>
  <span class="nx">RestangularProvider</span><span class="p">.</span><span class="nx">setDefaultHeaders</span><span class="p">({</span><span class="s1">&#39;Authorization&#39;</span><span class="o">:</span> <span class="s1">&#39;Bearer UDXPx-Xko0w4BRKajozCVy20X11MRZs1&#39;</span><span class="p">});</span>
<span class="p">}</span>

<span class="c1">// AppModule is the main entry point into Angular2 bootstraping process</span>
<span class="err">@</span><span class="nx">NgModule</span><span class="p">({</span>
  <span class="nx">bootstrap</span><span class="o">:</span> <span class="p">[</span> <span class="nx">AppComponent</span> <span class="p">],</span>
  <span class="nx">declarations</span><span class="o">:</span> <span class="p">[</span>
    <span class="nx">AppComponent</span><span class="p">,</span>
  <span class="p">],</span>
  <span class="nx">imports</span><span class="o">:</span> <span class="p">[</span>
    <span class="nx">RestangularModule</span><span class="p">.</span><span class="nx">forRoot</span><span class="p">(</span><span class="nx">RestangularConfigFactory</span><span class="p">),</span>
  <span class="p">]</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">AppModule</span> <span class="p">{</span>
<span class="p">}</span>
</pre></div>

<h3 id="configuring-in-the-appmodule-with-dependency-injection-applied">Configuring in the <code>AppModule</code> with Dependency Injection applied<a class="headerlink" href="#configuring-in-the-appmodule-with-dependency-injection-applied" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">RestangularModule</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;ngx-restangular&#39;</span><span class="p">;</span>

<span class="c1">// Function for settting the default restangular configuration</span>
<span class="kr">export</span> <span class="kd">function</span> <span class="nx">RestangularConfigFactory</span> <span class="p">(</span><span class="nx">RestangularProvider</span><span class="p">,</span> <span class="nx">http</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">RestangularProvider</span><span class="p">.</span><span class="nx">setBaseUrl</span><span class="p">(</span><span class="s1">&#39;http://api.restngx.local/v1&#39;</span><span class="p">);</span>
  <span class="nx">RestangularProvider</span><span class="p">.</span><span class="nx">setDefaultHeaders</span><span class="p">({</span><span class="s1">&#39;Authorization&#39;</span><span class="o">:</span> <span class="s1">&#39;Bearer UDXPx-Xko0w4BRKajozCVy20X11MRZs1&#39;</span><span class="p">});</span>

  <span class="c1">// Example of using Http service inside global config restangular</span>
  <span class="nx">RestangularProvider</span><span class="p">.</span><span class="nx">addElementTransformer</span><span class="p">(</span><span class="s1">&#39;me&#39;</span><span class="p">,</span> <span class="kc">true</span><span class="p">,</span> <span class="p">()=&gt;{</span>
    <span class="k">return</span> <span class="nx">http</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;http://api.test.com/v1/users/2&#39;</span><span class="p">,</span> <span class="p">{});</span>
  <span class="p">});</span>
<span class="p">}</span>

<span class="c1">// AppModule is the main entry point into Angular2 bootstraping process</span>
<span class="err">@</span><span class="nx">NgModule</span><span class="p">({</span>
  <span class="nx">bootstrap</span><span class="o">:</span> <span class="p">[</span> <span class="nx">AppComponent</span> <span class="p">],</span>
  <span class="nx">declarations</span><span class="o">:</span> <span class="p">[</span>
    <span class="nx">AppComponent</span><span class="p">,</span>
  <span class="p">],</span>
  <span class="nx">imports</span><span class="o">:</span> <span class="p">[</span>
    <span class="nx">RestangularModule</span><span class="p">.</span><span class="nx">forRoot</span><span class="p">([</span><span class="nx">Http</span><span class="p">],</span> <span class="nx">RestangularConfigFactory</span><span class="p">),</span>
  <span class="p">]</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">AppModule</span> <span class="p">{</span>
<span class="p">}</span>
</pre></div>

<h2 id="restangular_1">如何使用与全局服务不同的配置创建Restangular服务<a class="headerlink" href="#restangular_1" title="Permanent link">&para;</a></h2>
<p>Let's assume that for most requests you need some configuration (The global one), and for just a bunch of methods you need another configuration. In that case, you'll need to create another Restangular service with this particular configuration. This scoped configuration will inherit all defaults from the global one. Let's see how.</p>
<div class="codehilite"><pre><span></span><span class="c1">// Function for settting the default restangular configuration</span>
<span class="kr">export</span> <span class="kd">function</span> <span class="nx">RestangularConfigFactory</span> <span class="p">(</span><span class="nx">RestangularProvider</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">RestangularProvider</span><span class="p">.</span><span class="nx">setBaseUrl</span><span class="p">(</span><span class="s1">&#39;http://www.google.com&#39;</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">//Restangular service that uses Bing</span>
<span class="kr">export</span> <span class="kr">const</span> <span class="nx">RESTANGULAR_BING</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">InjectionToken</span><span class="o">&lt;</span><span class="nx">any</span><span class="o">&gt;</span><span class="p">(</span><span class="s1">&#39;RestangularBing&#39;</span><span class="p">);</span>
<span class="kr">export</span> <span class="kd">function</span> <span class="nx">RestangularBingFactory</span><span class="p">(</span><span class="nx">restangular</span><span class="o">:</span> <span class="nx">Restangular</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">restangular</span><span class="p">.</span><span class="nx">withConfig</span><span class="p">((</span><span class="nx">RestangularConfigurer</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
     <span class="nx">RestangularConfigurer</span><span class="p">.</span><span class="nx">setBaseUrl</span><span class="p">(</span><span class="s1">&#39;http://www.bing.com&#39;</span><span class="p">);</span>
   <span class="p">});</span>
<span class="p">}</span>


<span class="c1">// AppModule is the main entry point into Angular2 bootstraping process</span>
<span class="err">@</span><span class="nx">NgModule</span><span class="p">({</span>
  <span class="nx">bootstrap</span><span class="o">:</span> <span class="p">[</span> <span class="nx">AppComponent</span> <span class="p">],</span>
  <span class="nx">declarations</span><span class="o">:</span> <span class="p">[</span>
    <span class="nx">AppComponent</span><span class="p">,</span>
  <span class="p">],</span>
  <span class="nx">imports</span><span class="o">:</span> <span class="p">[</span>
    <span class="c1">// Global configuration</span>
    <span class="nx">RestangularModule</span><span class="p">.</span><span class="nx">forRoot</span><span class="p">(</span><span class="nx">RestangularConfigFactory</span><span class="p">),</span>
  <span class="p">],</span>
  <span class="nx">providers</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span> <span class="nx">provide</span><span class="o">:</span> <span class="nx">RESTANGULAR_BING</span><span class="p">,</span> <span class="nx">useFactory</span><span class="o">:</span>  <span class="nx">RestangularBingFactory</span><span class="p">,</span> <span class="nx">deps</span><span class="o">:</span> <span class="p">[</span><span class="nx">Restangular</span><span class="p">]</span> <span class="p">}</span>
  <span class="p">]</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">AppModule</span> <span class="p">{}</span>


<span class="c1">// Let&#39;s use it in the component</span>
<span class="err">@</span><span class="nx">Component</span><span class="p">({</span>
  <span class="p">...</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">OtherComponent</span> <span class="p">{</span>
  <span class="nx">constructor</span><span class="p">(</span>
    <span class="err">@</span><span class="nx">Inject</span><span class="p">(</span><span class="nx">Restangular</span><span class="p">)</span> <span class="kr">public</span> <span class="nx">Restangular</span><span class="p">,</span>
    <span class="err">@</span><span class="nx">Inject</span><span class="p">(</span><span class="nx">RESTANGULAR_BING</span><span class="p">)</span> <span class="kr">public</span> <span class="nx">RestangularBing</span>
  <span class="p">)</span> <span class="p">{}</span>

  <span class="nx">ngOnInit</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// GET to http://www.google.com/users</span>
    <span class="c1">// Uses global configuration</span>
    <span class="nx">Restangular</span><span class="p">.</span><span class="nx">all</span><span class="p">(</span><span class="s1">&#39;users&#39;</span><span class="p">).</span><span class="nx">getList</span><span class="p">()</span>

    <span class="c1">// GET to http://www.bing.com/users</span>
    <span class="c1">// Uses Bing configuration which is based on Global one, therefore .json is added.</span>
    <span class="nx">RestangularBing</span><span class="p">.</span><span class="nx">all</span><span class="p">(</span><span class="s1">&#39;users&#39;</span><span class="p">).</span><span class="nx">getList</span><span class="p">()</span>
  <span class="p">}</span>
<span class="p">};</span>
</pre></div>

<h2 id="restangular_2">解耦的Restangular服务<a class="headerlink" href="#restangular_2" title="Permanent link">&para;</a></h2>
<p>There're some times where you want to use Restangular but you don't want to expose Restangular object anywhere. For those cases, you can actually use the <code>service</code> feature of Restangular.</p>
<p>Let's see how it works:</p>
<div class="codehilite"><pre><span></span><span class="c1">// Restangular factory that uses Users</span>
<span class="kr">export</span> <span class="kr">const</span> <span class="nx">USER_REST</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">InjectionToken</span><span class="o">&lt;</span><span class="nx">any</span><span class="o">&gt;</span><span class="p">(</span><span class="s1">&#39;UserRest&#39;</span><span class="p">);</span>
<span class="kr">export</span> <span class="kd">function</span> <span class="nx">UserRestFactory</span><span class="p">(</span><span class="nx">restangular</span><span class="o">:</span> <span class="nx">Restangular</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">restangular</span><span class="p">.</span><span class="nx">service</span><span class="p">(</span><span class="s1">&#39;users&#39;</span><span class="p">);</span>
<span class="p">}</span>


<span class="c1">// AppModule is the main entry point into Angular2 bootstraping process</span>
<span class="err">@</span><span class="nx">NgModule</span><span class="p">({</span>
  <span class="nx">bootstrap</span><span class="o">:</span> <span class="p">[</span> <span class="nx">AppComponent</span> <span class="p">],</span>
  <span class="nx">declarations</span><span class="o">:</span> <span class="p">[</span>
    <span class="nx">AppComponent</span><span class="p">,</span>
  <span class="p">],</span>
  <span class="nx">imports</span><span class="o">:</span> <span class="p">[</span><span class="nx">RestangularModule</span><span class="p">],</span>
  <span class="nx">providers</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span> <span class="nx">provide</span><span class="o">:</span> <span class="nx">USER_REST</span><span class="p">,</span> <span class="nx">useFactory</span><span class="o">:</span>  <span class="nx">UserRestFactory</span><span class="p">,</span> <span class="nx">deps</span><span class="o">:</span> <span class="p">[</span><span class="nx">Restangular</span><span class="p">]</span> <span class="p">}</span> <span class="c1">// Configurating our factory</span>
  <span class="p">]</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">AppModule</span> <span class="p">{</span>
<span class="p">}</span>


<span class="c1">// Let&#39;s use it in the component</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">OtherComponent</span> <span class="p">{</span>
  <span class="nx">constructor</span><span class="p">(</span><span class="err">@</span><span class="nx">Inject</span><span class="p">(</span><span class="nx">USER_REST</span><span class="p">)</span> <span class="kr">public</span> <span class="nx">User</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">Users</span><span class="p">.</span><span class="nx">one</span><span class="p">(</span><span class="mi">2</span><span class="p">).</span><span class="nx">get</span><span class="p">()</span> <span class="c1">// GET to /users/2</span>
    <span class="nx">Users</span><span class="p">.</span><span class="nx">post</span><span class="p">({</span><span class="nx">data</span><span class="p">})</span> <span class="c1">// POST to /users</span>

    <span class="c1">// GET to /users</span>
    <span class="nx">Users</span><span class="p">.</span><span class="nx">getList</span><span class="p">().</span><span class="nx">subscribe</span><span class="p">(</span> <span class="nx">users</span> <span class="p">=&gt;</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">user</span> <span class="o">=</span> <span class="nx">users</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span> <span class="c1">// user === {id: 1, name: &quot;Tonto&quot;}</span>
      <span class="nx">user</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="s2">&quot;Gonto&quot;</span><span class="p">;</span>
      <span class="c1">// PUT to /users/1</span>
      <span class="nx">user</span><span class="p">.</span><span class="nx">put</span><span class="p">();</span>
    <span class="p">})</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>We can also use Nested RESTful resources with this:</p>
<div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">Cars</span> <span class="o">=</span> <span class="nx">Restangular</span><span class="p">.</span><span class="nx">service</span><span class="p">(</span><span class="s1">&#39;cars&#39;</span><span class="p">,</span> <span class="nx">Restangular</span><span class="p">.</span><span class="nx">one</span><span class="p">(</span><span class="s1">&#39;users&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">));</span>

<span class="nx">Cars</span><span class="p">.</span><span class="nx">getList</span><span class="p">()</span> <span class="c1">// GET to /users/1/cars</span>
</pre></div>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../using/" title="使用" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  后退
                </span>
                使用
              </span>
            </div>
          </a>
        
        
          <a href="../methods/" title="方法" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  前进
                </span>
                方法
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            @2018 wxdocs.github.io
          </div>
        
        powered by
        <a href="http://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
      <a href="http://wohugb.github.io" class="md-footer-social__link fa fa-globe"></a>
    
      <a href="https://github.com/wohugb" class="md-footer-social__link fa fa-github-alt"></a>
    
      <a href="https://twitter.com/wohugb" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://linkedin.com/in/wohugb" class="md-footer-social__link fa fa-linkedin"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.8eb9be28.js"></script>
      
        
        
          
          <script src="../../assets/javascripts/lunr/lunr.stemmer.support.js"></script>
          
            
              
                <script src="../../assets/javascripts/lunr/tinyseg.js"></script>
              
              
                <script src="../../assets/javascripts/lunr/lunr.jp.js"></script>
              
            
          
          
        
      
      <script>app.initialize({version:"0.17.3",url:{base:"../.."}})</script>
      
    
    
      
    
  </body>
</html>